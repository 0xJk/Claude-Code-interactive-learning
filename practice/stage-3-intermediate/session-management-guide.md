# 会话管理实践指南

## 🎯 学习目标
掌握Claude Code的会话管理功能，建立高效的工作流程。

## 📝 核心命令详解

### 1. `claude --continue` 详解

#### 使用场景
- ✅ **临时中断工作**: 需要离开一会儿，稍后继续
- ✅ **系统重启后**: 电脑重启，想继续之前的项目
- ✅ **错误恢复**: 意外关闭终端，快速恢复工作
- ✅ **日常工作流**: 每天早上继续昨天的进度

#### 工作原理
```bash
# 当前会话会自动保存包括：
# - 完整的对话历史
# - 项目上下文
# - 工作目录状态
# - 进行中的任务

# 恢复时会还原：
# - 所有之前的对话
# - Claude对项目的理解
# - 未完成的任务状态
```

#### 实际操作示例
```bash
# 第一天的工作
$ claude
> "帮我开发一个用户管理系统"
> [进行开发工作...]
> "现在需要离开，明天继续"
> exit

# 第二天继续
$ claude --continue
> "继续完善用户管理系统，添加权限控制"
# Claude会记住之前的所有上下文！
```

### 2. `claude --resume` 详解

#### 使用场景
- ✅ **多项目切换**: 在不同项目间切换工作
- ✅ **会话选择**: 从多个历史对话中选择特定的
- ✅ **长期项目**: 回到几天前的特定项目对话
- ✅ **实验对比**: 对比不同方案的实现过程

#### 交互界面
```bash
$ claude --resume

📋 Select a session to resume:
┌─────┬──────────────┬─────────────────┬────────────────────┐
│ #   │ Date         │ Directory       │ Last Message       │
├─────┼──────────────┼─────────────────┼────────────────────┤
│ 1   │ 2025-01-13   │ /ai_projects/1  │ 登录组件优化完成     │
│ 2   │ 2025-01-12   │ /blog-project   │ 博客系统架构设计     │
│ 3   │ 2025-01-11   │ /todo-app       │ 待办应用测试       │
│ 4   │ 2025-01-10   │ /portfolio      │ 作品集网站开发     │
└─────┴──────────────┴─────────────────┴────────────────────┘

Enter session number (1-4): 2
```

## 💡 高级会话管理技巧

### 1. 项目标记技术
```bash
# 在重要节点添加标记
"# 里程碑：用户认证模块完成
接下来开始实现权限管理系统"

# 这样在恢复会话时能快速定位进度
```

### 2. CLAUDE.md 协同使用
```bash
# 在对话中记录重要信息到配置文件
"记住：这个项目使用React 18 + TypeScript + Tailwind CSS"

# Claude会自动写入到CLAUDE.md，permanent memory
```

### 3. 会话命名策略
```bash
# 在每个项目的第一条消息中声明项目名
"开始博客系统项目 - Phase 1: 架构设计"

# 这样在resume时能快速识别
```

## 🎮 实践练习

### 练习1: 基础会话管理
1. **开始新项目**
   ```bash
   claude
   > "开始一个天气应用项目，使用React Native"
   ```

2. **保存并退出**
   ```bash
   > "先设计基本界面，明天继续开发功能"
   > exit
   ```

3. **恢复工作**
   ```bash
   claude --continue
   > "继续天气应用，添加API集成"
   ```

### 练习2: 多项目管理
1. **项目A**: 开发登录系统
2. **项目B**: 设计数据库架构  
3. **项目C**: 编写API文档

使用 `claude --resume` 在项目间切换。

### 练习3: 记忆管理
```bash
# 测试Claude的项目记忆
claude --continue
> "回顾一下我们之前讨论的登录组件优化方案"
# 观察Claude如何准确回忆之前的讨论
```

## 🔧 最佳实践

### 1. 会话hygiene（会话卫生）
```bash
# 定期清理不需要的会话
# 给重要会话添加清晰的标识
# 避免在一个会话中处理太多不相关的任务
```

### 2. 上下文管理
```bash
# 在长时间中断后，简要回顾进度
"简要回顾一下我们上次的进度和下一步计划"

# 在切换任务前，总结当前状态
"当前进度：API接口已完成，下次继续前端集成"
```

### 3. 协作友好
```bash
# 如果与团队共享项目，在CLAUDE.md中记录
"团队成员：张三负责前端，李四负责后端"
"代码规范：使用ESLint + Prettier"
```

## ⚠️ 注意事项

### 会话限制
- 每个会话有消息数量限制
- 非常长的会话可能影响性能
- 建议按功能模块分割会话

### 数据安全
- 会话数据存储在本地
- 敏感信息建议使用environment variables
- 定期备份重要的项目配置

### 性能优化
- 避免保存过多的临时实验会话
- 定期清理无用的历史会话
- 使用CLAUDE.md存储permanent信息

## 🎯 完成标准
- [ ] 能够熟练使用 `--continue` 恢复工作
- [ ] 能够使用 `--resume` 选择特定会话
- [ ] 理解如何在CLAUDE.md中管理项目记忆
- [ ] 建立了个人的会话管理工作流

## 🚀 下一步
掌握会话管理后，你将能够：
- 在多个项目间无缝切换
- 建立长期的项目开发记忆
- 与团队成员更好地协作
- 提升整体开发效率